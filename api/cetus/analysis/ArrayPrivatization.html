<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Fri Jul 07 11:46:52 EDT 2023 -->
<title>ArrayPrivatization</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-07-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ArrayPrivatization";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">cetus.analysis</a></div>
<h2 title="Class ArrayPrivatization" class="title">Class ArrayPrivatization</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="AnalysisPass.html" title="class in cetus.analysis">cetus.analysis.AnalysisPass</a></li>
<li>
<ul class="inheritance">
<li>cetus.analysis.ArrayPrivatization</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ArrayPrivatization</span>
extends <a href="AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></pre>
<div class="block">ArrayPrivatization performs privatization analysis of the program. It tries
 to find privatizable variables (scalars and arrays) which are written first
 then read in a loop body.
 The high-level algorithm in below describes the process of detecting
 privatizable variables, both scalars and array sections, in a loop. The set
 operations that appear in the algorithm are performed on the array sections
 if the variable is an array. We use the power of symbolic analysis
 techniques in Cetus to make the symbolic section operation possible. For
 example, <code>[1:m] (intersect) [1:n]</code> results in <code>[1:n]</code>
 if the expression comparison tool with the value range set can decide
 <code>n</code> is less than or equal to <code>m</code>.
 <p>
 The algorithm traverses a loop nest from the innermost to the outermost loop.
 At each level, it first collects <code>definitions</code> (write references)
 and <code>uses</code> (read references) in the loop body. Uses that are
 covered by prior definitions create privatizable variables (or array
 sections) for the current loop. The other uses are
 <code>upward exposed</code>, creating read
 references seen in the outer loop. Second, the algorithm aggregates all
 these array sections over the loop iteration space, creating the array
 sections that are private, written and upward exposed for the entire loop.
 The aggregation for the written sections (<code>DEF</code>) computes the
 must-defined regular sections of the arrays over the entire loop iteration
 while the aggregation of upward-exposed sections (<code>UEU</code>) requires
 only the conservative value ranges of the sections (may-used sections). This
 algorithm is a slightly simpler version of the one used in the Polaris
 parallelizing compiler for Fortran77 programs.
 <pre>
 procedure Privatization(L)

   Input : Loop L
   Output: DEF[L], UEU[L], PRI[L]
   // DEF: Definded set
   // USE: Used set
   // UEU: Upward-exposed set
   // PRI: Private variables
   // (^): intersection, (v): union

   foreach direct inner loop L' in L
     (DEF[L'],USE[L']) = Privatization(L')

   G(N,E) = BuildCFG(L)
   // BuildCFG builds a CFG with the inner loops represented as super nodes

   Iteratively solve data flow equation DEF for node n in N
     DEFin[n] = (^) {DEFout[p], p in predecessors of n}
     DEFout[n] = (DEFin[n]-KILL[n]) (v) DEF[n]

   DEF[L] = {}
   UEU[L] = {}
   PRI[L] = CollectCandidates(L)
   // CollectCandidates collects variables that satisfies the following:
   // 1. It has write access in the loop body.
   // 2. Its subscript do not contain loop-variant variables.

   foreach loop-exiting node e in N
     DEF[L] = DEF[L] (^) DEFout[e]

   foreach node n in N
     UEU[L] = UEU[L] (v) (USE[n]-DEFin[n])

   foreach variable v in UEU[L]
     PRI[L] = PRI[L]-{v}

   DEF[L] = AggregateDEF(DEF[L])
   UEU[L] = AggregateUSE(UEU[L])
   // AggregateDEF aggregates array sections in DEF (MUST set)
   // AggregateUSE aggregates array sections in USE (MAY set)

   return (DEF[L], UEU[L])

 end
 </pre>
 Array privatization is invoked by specifying the flag
 <code>-privatize</code>,
 and the result is stored as an annotation that contains the set of private
 variables. We do not consider a variable with user-defined type as a
 candidate private variable, but intend to widen the scope of the analysis
 in the future.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.cetus.analysis.AnalysisPass">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;cetus.analysis.<a href="AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></h3>
<code><a href="AnalysisPass.html#parallel_looplist">parallel_looplist</a>, <a href="AnalysisPass.html#program">program</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(cetus.hir.Program)">ArrayPrivatization</a></span>&#8203;(<a href="../hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</code></th>
<td class="colLast">
<div class="block">Constructs an array privatization analyzer for a program.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addAnnotation(cetus.hir.Procedure)">addAnnotation</a></span>&#8203;(<a href="../hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</code></th>
<td class="colLast">
<div class="block">Creates a cetus private annotation for each loop and inserts it before
 the loop.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeProcedure(cetus.hir.Procedure)">analyzeProcedure</a></span>&#8203;(<a href="../hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</code></th>
<td class="colLast">
<div class="block">Starts array privatization for a procedure.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPassName()">getPassName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the pass name.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#start()">start</a></span>()</code></th>
<td class="colLast">
<div class="block">Starts array privatization by calling the procedure-level driver for each
 procedure within the program.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.cetus.analysis.AnalysisPass">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;cetus.analysis.<a href="AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></h3>
<code><a href="AnalysisPass.html#getParallelLooplist()">getParallelLooplist</a>, <a href="AnalysisPass.html#run(cetus.analysis.AnalysisPass)">run</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(cetus.hir.Program)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ArrayPrivatization</h4>
<pre>public&nbsp;ArrayPrivatization&#8203;(<a href="../hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</pre>
<div class="block">Constructs an array privatization analyzer for a program.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>program</code> - the input program.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getPassName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPassName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getPassName()</pre>
<div class="block">Returns the pass name.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AnalysisPass.html#getPassName()">getPassName</a></code>&nbsp;in class&nbsp;<code><a href="AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the pass name in string.</dd>
</dl>
</li>
</ul>
<a id="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;start()</pre>
<div class="block">Starts array privatization by calling the procedure-level driver for each
 procedure within the program.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AnalysisPass.html#start()">start</a></code>&nbsp;in class&nbsp;<code><a href="AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></code></dd>
</dl>
</li>
</ul>
<a id="analyzeProcedure(cetus.hir.Procedure)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeProcedure</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;analyzeProcedure&#8203;(<a href="../hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</pre>
<div class="block">Starts array privatization for a procedure. It first computes the range
 map of the procedure to enable subsequent symbolic operations, then
 calls <a href="#analyzeLoop(cetus.hir.Loop)"><code>analyzeLoop(Loop)</code></a> to analyze the outer-most loops in the
 procedure. The final step is to annotate the analysis result for each
 loop in the procedure.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proc</code> - the input procedure.</dd>
</dl>
</li>
</ul>
<a id="addAnnotation(cetus.hir.Procedure)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addAnnotation</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addAnnotation&#8203;(<a href="../hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</pre>
<div class="block">Creates a cetus private annotation for each loop and inserts it before
 the loop.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
